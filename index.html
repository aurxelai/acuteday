<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Journey</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Quicksand:wght@300;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --speed: 0.5s;
            --biome-width: 1500px; 
            --accent-color: #ffd700;
        }

        body {
            margin: 0; overflow: hidden; background: #000;
            font-family: 'Quicksand', sans-serif;
            user-select: none;
            color: white;
        }

        #viewport { position: relative; width: 100vw; height: 100vh; overflow: hidden; }
        #world { position: absolute; top: 0; left: 0; height: 100%; display: flex; will-change: transform; }

        /* BIOME SETUP */
        .biome {
            position: relative; width: var(--biome-width); height: 100%;
            flex-shrink: 0; overflow: hidden;
            border-right: 1px solid rgba(255,255,255,0.1);
        }

        .biome-bg {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-size: cover; background-position: center;
            z-index: 0;
            filter: grayscale(100%) brightness(0.5) contrast(1.2); 
            pointer-events: none; 
        }

        /* COLLAGE IMAGES */
        .collage-img {
            position: absolute; z-index: 10; 
            border: 5px solid white;
            box-shadow: 0 0 0 1px #000; 
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            object-fit: cover;
            filter: grayscale(20%); 
            cursor: pointer;
        }
        
        /* HOVER EFFECT */
        .collage-img:hover {
            z-index: 100;
            border-color: var(--accent-color);
            filter: grayscale(0%) !important;
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
            transform: scale(1.1) rotate(0deg) !important; 
        }

        /* TEXT BOXES */
        .text-overlay {
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            z-index: 100; text-align: center; color: white;
            background: rgba(0, 0, 0, 0.7); 
            padding: 40px; border: 1px solid white;
            min-width: 400px; box-shadow: 0 0 30px rgba(0,0,0,1);
            pointer-events: none; 
        }
        .text-overlay h2 {
            font-family: 'Cinzel', serif; font-size: 3rem; margin: 0 0 15px 0;
            color: white; letter-spacing: 2px;
            border-bottom: 1px solid var(--accent-color);
            display: inline-block; padding-bottom: 10px;
        }

        /* PLAYER */
        #player {
            position: absolute; bottom: 60px; left: 20%; 
            transform: translateX(-50%);
            width: 250px; height: 350px; 
            z-index: 200; overflow: hidden; 
            pointer-events: none;
        }

        #stick-fig {
            width: 100%; height: 100%;
            background-image: url('walk.png'); 
            background-repeat: no-repeat;
            background-size: 200% 200%; 
            background-position: 0% 0%;
        }

        .is-walking { animation: walk-cycle-grid 0.6s steps(1) infinite; }
        @keyframes walk-cycle-grid {
            0%   { background-position: 0% 0%; }
            25%  { background-position: 100% 0%; }
            50%  { background-position: 0% 100%; }
            75%  { background-position: 100% 100%; }
        }

        /* PROPOSAL UI */
        #proposal-box {
            text-align: center; opacity: 0; transition: opacity 2s; z-index: 999;
            background: transparent; padding: 20px; width: 100%;
        }
        button {
            padding: 15px 40px; font-size: 1.5rem; cursor: pointer;
            font-family: 'Quicksand', sans-serif; font-weight: bold; 
            transition: 0.3s; background: rgba(0,0,0,0.8);
            border: 2px solid white; color: white;
            text-transform: uppercase; letter-spacing: 2px; border-radius: 50px;
        }
        #btn-yes:hover { background: white; color: black; transform: scale(1.1); }
        #btn-no { background: #333; color: #aaa; border-color: #555; }

        /* SUCCESS SCREEN */
        #success-screen {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background: black; display: none; align-items: center; justify-content: center;
            z-index: 9999; flex-direction: column; color: white; text-align: center;
            background-image: url('screen10.png'); 
            background-size: cover;
            background-position: center;
        }
        #success-screen h1 { 
            font-family: 'Cinzel', serif; font-size: 5rem; 
            color: var(--accent-color);
            -webkit-text-stroke: 0.5px #310202;
            text-shadow: 0 6px 20px rgba(0,0,0,0.9);
            padding: 12px; border-radius: 8px;
            background: rgba(255,255,255,0.05);
        }
        #success-screen p { 
            color: black; font-weight: 700; font-size: 1.6rem;
            margin-top: 5px; padding: 10px; border-radius: 8px;
            background: rgba(255,255,255,0.9);
        }

        /* --- NEW START SCREEN --- */
        #start-overlay {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background: #000; z-index: 10000;
            display: flex; align-items: center; justify-content: center; flex-direction: column;
            cursor: pointer; transition: opacity 1s ease;
        }
        #start-overlay h1 {
            font-family: 'Cinzel', serif; font-size: 3rem; color: var(--accent-color);
            margin-bottom: 20px; animation: pulse 2s infinite;
        }
        #start-overlay p { font-size: 1.2rem; color: #888; }
        @keyframes pulse { 0% { opacity: 0.6; } 50% { opacity: 1; } 100% { opacity: 0.6; } }

    </style>
</head>
<body>

    <audio id="bg-music" loop>
        <source src="music.mp3" type="audio/mpeg">
    </audio>

    <div id="start-overlay" onclick="startExperience()">
        <h1>Click to Begin Journey</h1>
        <p>Turn up your volume ♫</p>
    </div>

    <div id="viewport">
        <div id="world">
            
            <div class="biome" style="border-right: 1px solid rgba(255,255,255,0.1);">
                <div class="biome-bg" style="background-image: url('screen1.png');"></div>
                <div class="text-overlay">
                    <h2>Abu Dhabi</h2>
                    <p>Where the journey began.</p>
                </div>
                <img class="collage-img" src="IMG_4728.JPG" style="top: 91.0215px; left: 623.314px; width: 290px; transform: rotate(-13deg); --rot: -13deg;">
                <img class="collage-img" src="IMG_1159.jpg" style="top: 135.396px; left: 1130px; width: 208px; transform: rotate(9deg); --rot: 9deg;">
                <img class="collage-img" src="IMG_3520.png" style="top: 78.3958px; left: 193px; width: 179px; transform: rotate(0deg); --rot: 0deg;">
            </div>

            <div class="biome" style="border-right: 1px solid rgba(255,255,255,0.1);">
                <div class="biome-bg" style="background-image: url('screen2.png');"></div>
                <div class="text-overlay">
                    <h2>The Spark</h2>
                    <p>City lights and long nights.</p>
                </div>
                <img class="collage-img" src="IMG_3482.jpg" style="top: 172.396px; left: 144px; width: 236px; transform: rotate(-13deg); --rot: -13deg;">
                <img class="collage-img" src="IMG_0987.jpg" style="top: 95.0976px; left: 637.746px; width: 257px; transform: rotate(1deg); --rot: 1deg;">
                <img class="collage-img" src="IMG_3433.jpg" style="top: 170.396px; left: 1119px; width: 265px; transform: rotate(5deg); --rot: 5deg;">
            </div>

            <div class="biome" style="border-right: 1px solid rgba(255,255,255,0.1);">
                <div class="biome-bg" style="background-image: url('screen3.png');"></div>
                <div class="text-overlay">
                    <h2>Almaty</h2>
                    <p>Freezing peaks, warm hearts.</p>
                </div>
                <img class="collage-img" src="IMG_4653.jpg" style="top: 110.796px; left: 100.032px; width: 296px; transform: rotate(-16deg); --rot: -16deg;">
                <img class="collage-img" src="IMG_4542.jpg" style="top: 99.3958px; left: 1070px; width: 204px; transform: rotate(3deg); --rot: 3deg;">
                <img class="collage-img" src="IMG_2885.jpg" style="top: 76.3958px; left: 654px; width: 242px; transform: rotate(0deg); --rot: 0deg;">
            </div>

            <div class="biome" style="border-right: 1px solid rgba(255,255,255,0.1);">
                <div class="biome-bg" style="background-image: url('screen4.png');"></div>
                <div class="text-overlay">
                    <h2>Europe</h2>
                    <p>Ruin bars and memories.</p>
                </div>
                <img class="collage-img" src="IMG_5015.jpg" style="top: 133.343px; left: 118.537px; width: 227px; transform: rotate(-11deg); --rot: -11deg;">
                <img class="collage-img" src="IMG_9421.jpg" style="top: 110.096px; left: 1090.08px; width: 242px; transform: rotate(10deg); --rot: 10deg;">
                <img class="collage-img" src="IMG_3109.jpg" style="top: 50.3958px; left: 656px; width: 200px; transform: rotate(4deg); --rot: 4deg;">
            </div>

            <div class="biome" style="border-right: 1px solid rgba(255,255,255,0.1);">
                <div class="biome-bg" style="background-image: url('screen5.png');"></div>
                <div class="text-overlay">
                    <h2>Japan</h2>
                    <p>Lost phones, lost us, and a beautiful dream trip.</p>
                </div>
                <img class="collage-img" src="IMG_1730.jpg" style="top: 138.396px; left: 138px; width: 213px; transform: rotate(0deg); --rot: 0deg;">
                <img class="collage-img" src="IMG_2321.jpg" style="top: 142.396px; left: 1051px; width: 375px; transform: rotate(14deg); --rot: 14deg;">
                <img class="collage-img" src="IMG_2366.jpg" style="top: 13.7208px; left: 628.791px; width: 223px; transform: rotate(-8deg); --rot: -8deg;">
            </div>

            <div class="biome" style="border-right: 1px solid rgba(255,255,255,0.1);">
                <div class="biome-bg" style="background-image: url('screen6.png');"></div>
                <div class="text-overlay">
                    <h2>Long Distance</h2>
                    <p>Our love across the miles.</p>
                </div>
                <img class="collage-img" src="WhatsApp Image 2026-02-08 at 00.09.14.jpeg" style="top: 167.396px; left: 71px; width: 194px; transform: rotate(0deg); --rot: 0deg;">
                <img class="collage-img" src="Screenshot_2024-05-30-12-53-24-033_com.google.android.apps.meetings.jpg" style="top: 124.396px; left: 1209px; width: 200px; transform: rotate(0deg); --rot: 0deg;">
                <img class="collage-img" src="Screenshot_2024-09-29-18-31-09-863_com.whatsapp.jpg" style="top: -3.80467px; left: 822.038px; width: 200px; transform: rotate(-47deg); --rot: -47deg;">
                <img class="collage-img" src="Screenshot_2024-07-04-21-24-24-150_com.google.android.apps.tachyon.jpg" style="top: 583.09px; left: 437.541px; width: 200px; transform: rotate(2deg); --rot: 2deg;">
            </div>

            <div class="biome" style="border-right: 1px solid rgba(255,255,255,0.1);">
                <div class="biome-bg" style="background-image: url('screen7.png');"></div>
                <div class="text-overlay">
                    <h2>Philippines</h2>
                    <p>Serenity in the forest.</p>
                </div>
                <img class="collage-img" src="WhatsApp Image 2026-02-14 at 14.22.042.jpeg" style="top: 256.566px; left: 54.5482px; width: 274px; transform: rotate(-2deg); --rot: -2deg;">
                <img class="collage-img" src="WhatsApp Image 2026-02-14 at 14.22.041.jpeg" style="top: 23.2955px; left: 722.605px; width: 243px; transform: rotate(-20deg); --rot: -20deg;">
                <img class="collage-img" src="WhatsApp Image 2026-02-14 at 14.22.04.jpeg" style="top: 159.396px; left: 1198px; width: 276px; transform: rotate(0deg); --rot: 0deg;">
            </div>

            <div class="biome" id="biome-7">
                <div class="biome-bg" style="background-image: url('screen8.png');"></div>
                <div class="text-overlay">
                    <h2>The Shaadi</h2>
                    <p>Our Royal beginning.</p>
                </div>
            </div>

            <div class="biome final" id="biome-8" style="display: flex; align-items: center; justify-content: center;">
                <div class="biome-bg" style="background-image: url('screen9.png');"></div>
                
                <div id="proposal-box" style="opacity: 1;">
                    <div style="position: relative; width: 600px; margin: 100px auto 0 auto; display: flex; flex-direction: row; align-items: center; justify-content: flex-end; gap: 60px; transform: translateX(60px);">
                        <button id="btn-yes" onclick="celebrate()" style="z-index: 10; width: 220px;">YES! ❤️</button>
                        <button id="btn-no" style="width: 140px;">No</button>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div id="player">
        <div id="stick-fig"></div>
    </div>

    <div id="success-screen">
        <h1>To my princess,</h1>
        <p>Happy Valentine's Day ❤️</p>
    </div>

    <script>
        // --- GAME ENGINE ---
        const world = document.getElementById('world');
        const proposalBox = document.getElementById('proposal-box');
        const successScreen = document.getElementById('success-screen');
        const btnNo = document.getElementById('btn-no');
        const stickFig = document.getElementById('stick-fig');
        const playerContainer = document.getElementById('player');
        const music = document.getElementById('bg-music');
        const startOverlay = document.getElementById('start-overlay');

        let worldX = 0;
        let speed = 15;
        let isMoving = false;
        let direction = 0;

        // STARTUP LOGIC
        function startExperience() {
            startOverlay.style.opacity = 0;
            setTimeout(() => {
                startOverlay.style.display = 'none';
            }, 1000);
            
            // Try to play music
            music.play().catch(e => console.log("Audio play failed: ", e));
        }

        const biomes = document.querySelectorAll('.biome');
        const biomeWidth = 1500; 
        const maxScroll = (biomeWidth * biomes.length) - window.innerWidth; 

        function loop() {
            if (isMoving) {
                if (direction === 1) worldX += speed;
                if (direction === -1) worldX -= speed;
                if (worldX < 0) worldX = 0;
                if (worldX > maxScroll) worldX = maxScroll;
                world.style.transform = `translateX(-${worldX}px)`;
            }
            
            // Final slide logic
            const finalSection = document.querySelector('.biome.final');
            const finalRect = finalSection.getBoundingClientRect();
            if (finalRect.left < window.innerWidth * 0.6) {
                proposalBox.style.opacity = 1;
            }
            requestAnimationFrame(loop);
        }

        window.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') { 
                isMoving = true; direction = 1; 
                stickFig.classList.add('is-walking');
                playerContainer.style.transform = 'translateX(-50%) scaleX(1)'; 
            }
            if (e.key === 'ArrowLeft') { 
                isMoving = true; direction = -1; 
                stickFig.classList.add('is-walking');
                playerContainer.style.transform = 'translateX(-50%) scaleX(-1)'; 
            }
        });

        window.addEventListener('keyup', () => {
            isMoving = false; 
            stickFig.classList.remove('is-walking');
        });

        // Mouse dodge logic
        document.addEventListener('mousemove', (e) => {
            if(proposalBox.style.opacity == 0) return;
            const noRect = btnNo.getBoundingClientRect();
            const mouseX = e.clientX; const mouseY = e.clientY;
            const btnX = noRect.left + noRect.width / 2;
            const btnY = noRect.top + noRect.height / 2;
            const dist = Math.sqrt(Math.pow(mouseX - btnX, 2) + Math.pow(mouseY - btnY, 2));

            if (dist < 150) {
                const angle = Math.random() * Math.PI * 2;
                const moveDist = 100 + Math.random() * 100; 
                btnNo.style.transform = `translate(${Math.cos(angle) * moveDist}px, ${Math.sin(angle) * moveDist}px)`;
            }
        });

        function celebrate() {
            document.getElementById('viewport').style.display = 'none';
            document.getElementById('player').style.display = 'none';
            successScreen.style.display = 'flex';
        }

        loop();
    </script>
</body>
</html>
